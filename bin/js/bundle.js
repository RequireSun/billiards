var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Game_1 = require("./script/Game");
var Ball_1 = require("./script/Ball");
var GameControl_1 = require("./script/GameControl");
var Player_1 = require("./script/Player");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/Game.ts", Game_1.default);
        reg("script/Ball.ts", Ball_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Player.ts", Player_1.default);
    };
    GameConfig.width = 1136;
    GameConfig.height = 640;
    GameConfig.scaleMode = "fixedauto";
    GameConfig.screenMode = "horizontal";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "game/Game.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = true;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/Ball":3,"./script/Game":4,"./script/GameControl":5,"./script/Player":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
var Game_1 = require("./Game");
var initialPositionWhite = new Laya.Point(140, 208);
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
var Ball = /** @class */ (function (_super) {
    __extends(Ball, _super);
    function Ball() {
        var _this = _super.call(this) || this;
        _this.isInitialized = false;
        return _this;
    }
    Ball.prototype.onEnable = function () {
        if (!this.isInitialized) {
            // 测试时候没有皮肤, 用的白球 + 数字
            // if (this.number) {
            //     const label: Laya.Label = this.owner.getChildByName('label') as Laya.Label;
            //     label.text = `${this.number}`;
            // }
            Object.defineProperty(this.owner, 'startMove', {
                enumerable: false,
                value: function (xForce, yForce) {
                    var rig = this.getComponent(Laya.RigidBody);
                    rig.setVelocity({ x: xForce, y: yForce });
                },
            });
            this.isInitialized = true;
        }
    };
    Ball.prototype.onDisable = function () { };
    Ball.prototype.onUpdate = function () {
        var owner = this.owner;
        var x = owner.x, y = owner.y;
        var _a = Game_1.default.instance.getCollisionCoordinate(), startX = _a.startX, startY = _a.startY, endX = _a.endX, endY = _a.endY, middle = _a.middle, middleLeft = _a.middleLeft, middleRight = _a.middleRight;
        if (x < startX) {
            if (y < startY) {
                if (22 > Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))) {
                    console.log('左上洞');
                    this.handlerGoal();
                }
            }
            else if (y > endY) {
                if (22 > Math.sqrt((Math.pow((22 - (startX - x)), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('左下洞');
                    this.handlerGoal();
                }
            }
        }
        else if (x > endX) {
            if (y < startY) {
                if (22 > Math.sqrt((Math.pow((22 - (x - endX)), 2)) +
                    (Math.pow((22 - (startY - y)), 2)))) {
                    console.log('右上洞');
                    this.handlerGoal();
                }
            }
            else if (y > endY) {
                if (22 > Math.sqrt((Math.pow((22 - (x - endX)), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('右下洞');
                    this.handlerGoal();
                }
            }
        }
        else if (y < startY) {
            if (x > middleLeft && x < middleRight) {
                if (22 > Math.sqrt((Math.pow((x - middle), 2)) +
                    (Math.pow((22 - (startY - y)), 2)))) {
                    console.log('中上洞');
                    this.handlerGoal();
                }
            }
        }
        else if (y > endY) {
            if (x > middleLeft && x < middleRight) {
                if (22 > Math.sqrt((Math.pow((x - middle), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('中下洞');
                    this.handlerGoal();
                }
            }
        }
        // 其他情况就是在桌子中间了
    };
    Ball.prototype.handlerGoal = function () {
        // if (0 === this.number) {
        //     console.log('白球进了');
        //     (this.owner as Laya.Sprite).pos(initialPositionWhite.x, initialPositionWhite.y);
        // } else {
        //     console.log('进球！', this.number);
        //     // TODO 要计算下下方计分区位置在哪
        //     this.owner.removeSelf();
        //     const containerGoal = Game.instance.container_goal.addChild(this.owner);
        // }
        // Game.instance.event('ball.goal', this.number);
        Game_1.default.instance.handlerGoal(this.number);
    };
    return Ball;
}(Laya.Script));
exports.default = Ball;

},{"./Game":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var GameControl_1 = require("./GameControl");
var Game = /** @class */ (function (_super) {
    __extends(Game, _super);
    function Game() {
        var _this = _super.call(this) || this;
        Game.instance = _this;
        return _this;
    }
    Game.prototype.onEnable = function () {
        this._control = this.getComponent(GameControl_1.default);
        this._containerGoal = this.getChildByName('container_goal');
        var containerBall = this._containerBall = this.getChildByName('container_ball');
        this._startX = 0;
        this._startY = 0;
        this._endX = containerBall.width;
        this._endY = containerBall.height;
        this._middle = containerBall.width / 2;
        this._middleLeft = containerBall.width / 2 - 22;
        this._middleRight = containerBall.width / 2 + 22;
        this._startX += 22;
        this._startY += 22;
        this._endX -= 22;
        this._endY -= 22;
        // this.showRect();
    };
    Game.prototype.getCollisionCoordinate = function () {
        return {
            startX: this._startX,
            startY: this._startY,
            endX: this._endX,
            endY: this._endY,
            middle: this._middle,
            middleLeft: this._middleLeft,
            middleRight: this._middleRight,
        };
    };
    /**
     * 展示碰撞框
     */
    Game.prototype.showRect = function () {
        var line = new Laya.Sprite();
        line.graphics.drawRect(this._middle, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._middleLeft, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._middleRight, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._startX, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._endX, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(0, this._startY, 900, 2, '#ff0000');
        line.graphics.drawRect(0, this._endY, 900, 2, '#ff0000');
        this.addChild(line);
    };
    return Game;
}(layaMaxUI_1.ui.game.GameUI));
exports.default = Game;

},{"./../ui/layaMaxUI":7,"./GameControl":5}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
var initialPositionWhite = new Laya.Point(140, 208);
// 进球后在下方展示区域是否将角度回正 (我感觉不回正也挺好看的)
var isGoalRotationReset = true;
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
var GameControl = /** @class */ (function (_super) {
    __extends(GameControl, _super);
    function GameControl() {
        var _this = _super.call(this) || this;
        _this._goal = {
            1: false,
            2: false,
            3: false,
            4: false,
            5: false,
            6: false,
            7: false,
            8: false,
            9: false,
            10: false,
            11: false,
            12: false,
            13: false,
            14: false,
            15: false,
        };
        return _this;
    }
    GameControl.prototype.onEnable = function () {
        this._containerBall = this.owner.getChildByName("container_ball");
        this.addListeners();
    };
    GameControl.prototype.onDisable = function () {
        this.removeListeners();
    };
    GameControl.prototype.onStageClick = function (e) {
        //停止事件冒泡，提高性能，当然也可以不要
        e.stopPropagation();
        // 这个是随机方向生成, 最早开发的时候用的, 现在早就用不到了
        // const x: number = (.5 < Math.random() ? 1 : -1) * Math.random() * 10;
        // const y: number = (.5 < Math.random() ? 1 : -1) * Math.random() * 10;
        var ball = this._containerBall.getChildByName('ball_white');
        var parent = ball.parent;
        var touchX = e.stageX;
        var touchY = e.stageY;
        var ballX = ball.x + parent.x;
        var ballY = ball.y + parent.y;
        var x = (touchX - ballX) / 20;
        var y = (touchY - ballY) / 20;
        // 这个是开发时用来判断点击位置和球运行方向用的, 现在已经算好了, 就先隐藏, 以后调试可以继续用
        // console.log(touchX, touchY, ballX, ballY, x, y);
        ball.startMove(x, y);
    };
    GameControl.prototype.addListeners = function () {
        var _this = this;
        // this.owner.on('ball.goal', this, this.handlerGoal);
        Object.defineProperty(this.owner, 'handlerGoal', {
            enumerable: false,
            value: function (number) { return _this.handlerGoal(number); },
        });
    };
    GameControl.prototype.removeListeners = function () {
        // this.owner.off('ball.goal', this, this.handlerGoal);
        Object.defineProperty(this.owner, 'handlerGoal', {
            enumerable: false,
        });
    };
    GameControl.prototype.handlerGoal = function (number) {
        if (0 === number) {
            console.log('白球进了');
            this._containerBall.getChildByName('ball_white').pos(initialPositionWhite.x, initialPositionWhite.y);
        }
        else if (!this._goal[number]) {
            console.log('进球！', number);
            this._goal[number] = true;
            // TODO 要计算下下方计分区位置在哪
            var ballName = "ball_" + (10 > number ? "0" + number : number);
            var ball = this._containerBall.getChildByName(ballName);
            // 这个 removeSelf 除了直接写在 ball 里面, 否则都会因为时序问题执行多次, 这里为了代码好看, 多写了防重入逻辑
            ball.removeSelf();
            ball.pos(40 * (number - 1) + 30, 25);
            isGoalRotationReset && (ball.rotation = 0);
            this.owner.container_goal.addChild(ball);
        }
    };
    return GameControl;
}(Laya.Script));
exports.default = GameControl;

},{}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
var Player = /** @class */ (function (_super) {
    __extends(Player, _super);
    function Player() {
        return _super.call(this) || this;
    }
    Player.prototype.onEnable = function () {
        var elName = this.owner.getChildByName('name');
        var elAvatar = this.owner.getChildByName('avatar');
        var elMask = new Laya.Sprite();
        // 注意, arcTo 的端点 1 是两端点位置切线的交点
        var path = [
            ["moveTo", 10, 0],
            ['lineTo', 40, 0],
            ["arcTo", 50, 0, 50, 10, 10],
            ['lineTo', 50, 40],
            ["arcTo", 50, 50, 40, 50, 10],
            ['lineTo', 10, 50],
            ["arcTo", 0, 50, 0, 40, 10],
            ['lineTo', 0, 10],
            ["arcTo", 0, 0, 10, 0, 10],
        ];
        elMask.graphics.drawPath(0, 0, path, { fillStyle: '#ff0000' });
        elMask.pos(0, 0);
        // this.owner.addChild(elMask);
        elAvatar.mask = elMask;
        if (this.avatar) { }
    };
    return Player;
}(Laya.Script));
exports.default = Player;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var game;
    (function (game) {
        var GameUI = /** @class */ (function (_super) {
            __extends(GameUI, _super);
            function GameUI() {
                return _super.call(this) || this;
            }
            GameUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("game/Game");
            };
            return GameUI;
        }(Laya.Scene));
        game.GameUI = GameUI;
        var HoleUI = /** @class */ (function (_super) {
            __extends(HoleUI, _super);
            function HoleUI() {
                return _super.call(this) || this;
            }
            HoleUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("game/Hole");
            };
            return HoleUI;
        }(Laya.View));
        game.HoleUI = HoleUI;
    })(game = ui.game || (ui.game = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL0FwcGxpY2F0aW9ucy9MYXlhQWlySURFLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9CYWxsLnRzIiwic3JjL3NjcmlwdC9HYW1lLnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvUGxheWVyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsc0NBQWdDO0FBQ2hDLHNDQUFnQztBQUNoQyxvREFBOEM7QUFDOUMsMENBQW9DO0FBQ3BDOztFQUVFO0FBQ0Y7SUFhSTtJQUFjLENBQUM7SUFDUixlQUFJLEdBQVg7UUFDSSxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsY0FBSSxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLGdCQUFnQixFQUFDLGNBQUksQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztJQUNuQyxDQUFDO0lBbkJNLGdCQUFLLEdBQVEsSUFBSSxDQUFDO0lBQ2xCLGlCQUFNLEdBQVEsR0FBRyxDQUFDO0lBQ2xCLG9CQUFTLEdBQVEsV0FBVyxDQUFDO0lBQzdCLHFCQUFVLEdBQVEsWUFBWSxDQUFDO0lBQy9CLGlCQUFNLEdBQVEsS0FBSyxDQUFDO0lBQ3BCLGlCQUFNLEdBQVEsTUFBTSxDQUFDO0lBQ3JCLHFCQUFVLEdBQUssaUJBQWlCLENBQUM7SUFDakMs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Qzt1QkFBZSxpQkFBTztZQUFBLENBQUM7WUFDdkIsK0JBQWMsR0FBZDtnQkFDSSxpQkFBTSxjQUFjLFdBQUUsQ0FBQztnQkFDdkIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNoQyxDQUFDO1lBQ0wsYUFBQztRQUFELENBTkEsQUFNQyxDQU4yQixJQUFJLENBQUMsSUFBSSxHQU1wQztRQU5ZLFdBQU0sU0FNbEIsQ0FBQTtJQUNMLENBQUMsRUFsQmdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQWtCcEI7QUFBRCxDQUFDLEVBbEJhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQWtCZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWUgZnJvbSBcIi4vc2NyaXB0L0dhbWVcIlxuaW1wb3J0IEJhbGwgZnJvbSBcIi4vc2NyaXB0L0JhbGxcIlxuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL3NjcmlwdC9HYW1lQ29udHJvbFwiXG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL3NjcmlwdC9QbGF5ZXJcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWRhdXRvXCI7XHJcbiAgICBzdGF0aWMgc2NyZWVuTW9kZTpzdHJpbmc9XCJob3Jpem9udGFsXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25WOnN0cmluZz1cInRvcFwiO1xyXG4gICAgc3RhdGljIGFsaWduSDpzdHJpbmc9XCJsZWZ0XCI7XHJcbiAgICBzdGF0aWMgc3RhcnRTY2VuZTphbnk9XCJnYW1lL0dhbWUuc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49dHJ1ZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWUudHNcIixHYW1lKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0JhbGwudHNcIixCYWxsKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVDb250cm9sLnRzXCIsR2FtZUNvbnRyb2wpO1xuICAgICAgICByZWcoXCJzY3JpcHQvUGxheWVyLnRzXCIsUGxheWVyKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XG5pbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuXG5jb25zdCBpbml0aWFsUG9zaXRpb25XaGl0ZTogTGF5YS5Qb2ludCA9IG5ldyBMYXlhLlBvaW50KDE0MCwgMjA4KTtcblxuLyoqXG4gKiDlrZDlvLnohJrmnKzvvIzlrp7njrDlrZDlvLnpo57ooYzpgLvovpHlj4rlr7nosaHmsaDlm57mlLbmnLrliLZcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFsbCBleHRlbmRzIExheWEuU2NyaXB0IHtcbiAgICAvKiogQHByb3AgeyBuYW1lOiBudW1iZXIsIHRpcHM6XCLnkIPnmoTlj7fnoIHvvIwwIOS7o+ihqOeZveeQg1wiLCB0eXBlOiBpbnR9Ki9cbiAgICBudW1iZXI6IG51bWJlcjtcblxuICAgIGlzSW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKCkgeyBcbiAgICAgICAgc3VwZXIoKTsgXG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyDmtYvor5Xml7blgJnmsqHmnInnmq7ogqQsIOeUqOeahOeZveeQgyArIOaVsOWtl1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMubnVtYmVyKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgbGFiZWw6IExheWEuTGFiZWwgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKCdsYWJlbCcpIGFzIExheWEuTGFiZWw7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gICAgIGxhYmVsLnRleHQgPSBgJHt0aGlzLm51bWJlcn1gO1xuICAgICAgICAgICAgLy8gfVxuICAgIFxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3duZXIsICdzdGFydE1vdmUnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWUoeEZvcmNlOiBudW1iZXIsIHlGb3JjZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaWc6IExheWEuUmlnaWRCb2R5ID0gdGhpcy5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICByaWcuc2V0VmVsb2NpdHkoeyB4OiB4Rm9yY2UsIHk6IHlGb3JjZSB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7fVxuXG4gICAgb25VcGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG93bmVyID0gdGhpcy5vd25lciBhcyBMYXlhLlNwcml0ZTtcblxuICAgICAgICBjb25zdCB7IHgsIHkgfSA9IG93bmVyO1xuXG4gICAgICAgIGNvbnN0IHsgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIG1pZGRsZSwgbWlkZGxlTGVmdCwgbWlkZGxlUmlnaHQgfSA9IEdhbWUuaW5zdGFuY2UuZ2V0Q29sbGlzaW9uQ29vcmRpbmF0ZSgpO1xuXG4gICAgICAgIGlmICh4IDwgc3RhcnRYKSB7XG4gICAgICAgICAgICBpZiAoeSA8IHN0YXJ0WSkge1xuICAgICAgICAgICAgICAgIGlmICgyMiA+IE1hdGguc3FydCh4ICoqIDIgKyB5ICoqIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflt6bkuIrmtJ4nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyR29hbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA+IGVuZFkpIHtcbiAgICAgICAgICAgICAgICBpZiAoMjIgPiBNYXRoLnNxcnQoXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoc3RhcnRYIC0geCkpICoqIDIpICsgXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoeSAtIGVuZFkpKSAqKiAyKVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3puS4i+a0nicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJHb2FsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHggPiBlbmRYKSB7XG4gICAgICAgICAgICBpZiAoeSA8IHN0YXJ0WSkge1xuICAgICAgICAgICAgICAgIGlmICgyMiA+IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtICh4IC0gZW5kWCkpICoqIDIpICsgXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoc3RhcnRZIC0geSkpICoqIDIpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Y+z5LiK5rSeJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlckdvYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiBlbmRZKSB7XG4gICAgICAgICAgICAgICAgaWYgKDIyID4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICAoKDIyIC0gKHggLSBlbmRYKSkgKiogMikgKyBcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtICh5IC0gZW5kWSkpICoqIDIpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Y+z5LiL5rSeJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlckdvYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoeSA8IHN0YXJ0WSkge1xuICAgICAgICAgICAgaWYgKHggPiBtaWRkbGVMZWZ0ICYmIHggPCBtaWRkbGVSaWdodCkge1xuICAgICAgICAgICAgICAgIGlmICgyMiA+IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICAgICAgKCh4IC0gbWlkZGxlKSAqKiAyKSArIFxuICAgICAgICAgICAgICAgICAgICAoKDIyIC0gKHN0YXJ0WSAtIHkpKSAqKiAyKVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4reS4iua0nicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJHb2FsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHkgPiBlbmRZKSB7XG4gICAgICAgICAgICBpZiAoeCA+IG1pZGRsZUxlZnQgJiYgeCA8IG1pZGRsZVJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKDIyID4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICAoKHggLSBtaWRkbGUpICoqIDIpICsgXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoeSAtIGVuZFkpKSAqKiAyKVxuICAgICAgICAgICAgICAgICkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4reS4i+a0nicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJHb2FsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIOWFtuS7luaDheWGteWwseaYr+WcqOahjOWtkOS4remXtOS6hlxuICAgIH1cblxuICAgIGhhbmRsZXJHb2FsKCk6IHZvaWQge1xuICAgICAgICAvLyBpZiAoMCA9PT0gdGhpcy5udW1iZXIpIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCfnmb3nkIPov5vkuoYnKTtcbiAgICAgICAgLy8gICAgICh0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlKS5wb3MoaW5pdGlhbFBvc2l0aW9uV2hpdGUueCwgaW5pdGlhbFBvc2l0aW9uV2hpdGUueSk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygn6L+b55CD77yBXGInLCB0aGlzLm51bWJlcik7XG4gICAgICAgIC8vICAgICAvLyBUT0RPIOimgeiuoeeul+S4i+S4i+aWueiuoeWIhuWMuuS9jee9ruWcqOWTqlxuICAgICAgICAvLyAgICAgdGhpcy5vd25lci5yZW1vdmVTZWxmKCk7XG4gICAgICAgIC8vICAgICBjb25zdCBjb250YWluZXJHb2FsID0gR2FtZS5pbnN0YW5jZS5jb250YWluZXJfZ29hbC5hZGRDaGlsZCh0aGlzLm93bmVyKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBHYW1lLmluc3RhbmNlLmV2ZW50KCdiYWxsLmdvYWwnLCB0aGlzLm51bWJlcik7XG4gICAgICAgIChHYW1lLmluc3RhbmNlIGFzIGFueSkuaGFuZGxlckdvYWwodGhpcy5udW1iZXIpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xuaW1wb3J0IEdhbWVDb250cm9sIGZyb20gXCIuL0dhbWVDb250cm9sXCJcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSBleHRlbmRzIHVpLmdhbWUuR2FtZVVJIHtcbiAgICBzdGF0aWMgaW5zdGFuY2U6IEdhbWU7XG5cbiAgICBwcml2YXRlIF9jb250cm9sOiBHYW1lQ29udHJvbDtcbiAgICBwcml2YXRlIF9jb250YWluZXJCYWxsOiBMYXlhLlNwcml0ZTtcbiAgICBwcml2YXRlIF9jb250YWluZXJHb2FsOiBMYXlhLlNwcml0ZTtcblxuICAgIHByaXZhdGUgX3N0YXJ0WDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3N0YXJ0WTogbnVtYmVyO1xuICAgIHByaXZhdGUgX2VuZFg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9lbmRZOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIF9taWRkbGU6IG51bWJlcjtcbiAgICBwcml2YXRlIF9taWRkbGVMZWZ0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfbWlkZGxlUmlnaHQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIEdhbWUuaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250cm9sID0gdGhpcy5nZXRDb21wb25lbnQoR2FtZUNvbnRyb2wpO1xuICAgICAgICB0aGlzLl9jb250YWluZXJHb2FsID0gdGhpcy5nZXRDaGlsZEJ5TmFtZSgnY29udGFpbmVyX2dvYWwnKSBhcyBMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyQmFsbCA9IHRoaXMuX2NvbnRhaW5lckJhbGwgPSB0aGlzLmdldENoaWxkQnlOYW1lKCdjb250YWluZXJfYmFsbCcpIGFzIExheWEuU3ByaXRlO1xuXG4gICAgICAgIHRoaXMuX3N0YXJ0WCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXJ0WSA9IDA7XG4gICAgICAgIHRoaXMuX2VuZFggPSBjb250YWluZXJCYWxsLndpZHRoO1xuICAgICAgICB0aGlzLl9lbmRZID0gY29udGFpbmVyQmFsbC5oZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5fbWlkZGxlID0gY29udGFpbmVyQmFsbC53aWR0aCAvIDI7XG4gICAgICAgIHRoaXMuX21pZGRsZUxlZnQgPSBjb250YWluZXJCYWxsLndpZHRoIC8gMiAtIDIyO1xuICAgICAgICB0aGlzLl9taWRkbGVSaWdodCA9IGNvbnRhaW5lckJhbGwud2lkdGggLyAyICsgMjI7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRYICs9IDIyO1xuICAgICAgICB0aGlzLl9zdGFydFkgKz0gMjI7XG4gICAgICAgIHRoaXMuX2VuZFggLT0gMjI7XG4gICAgICAgIHRoaXMuX2VuZFkgLT0gMjI7XG5cbiAgICAgICAgLy8gdGhpcy5zaG93UmVjdCgpO1xuICAgIH1cblxuICAgIGdldENvbGxpc2lvbkNvb3JkaW5hdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydFg6IHRoaXMuX3N0YXJ0WCxcbiAgICAgICAgICAgIHN0YXJ0WTogdGhpcy5fc3RhcnRZLFxuICAgICAgICAgICAgZW5kWDogdGhpcy5fZW5kWCxcbiAgICAgICAgICAgIGVuZFk6IHRoaXMuX2VuZFksXG5cbiAgICAgICAgICAgIG1pZGRsZTogdGhpcy5fbWlkZGxlLFxuICAgICAgICAgICAgbWlkZGxlTGVmdDogdGhpcy5fbWlkZGxlTGVmdCxcbiAgICAgICAgICAgIG1pZGRsZVJpZ2h0OiB0aGlzLl9taWRkbGVSaWdodCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5bGV56S656Kw5pKe5qGGXG4gICAgICovXG4gICAgc2hvd1JlY3QoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcblxuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX21pZGRsZSwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX21pZGRsZUxlZnQsIDAsIDIsIDUwMCwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCh0aGlzLl9taWRkbGVSaWdodCwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX3N0YXJ0WCwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX2VuZFgsIDAsIDIsIDUwMCwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCgwLCB0aGlzLl9zdGFydFksIDkwMCwgMiwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCgwLCB0aGlzLl9lbmRZLCA5MDAsIDIsICcjZmYwMDAwJyk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZChsaW5lKTtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IEJhbGwgZnJvbSAnLi9CYWxsJztcblxuY29uc3QgaW5pdGlhbFBvc2l0aW9uV2hpdGU6IExheWEuUG9pbnQgPSBuZXcgTGF5YS5Qb2ludCgxNDAsIDIwOCk7XG4vLyDov5vnkIPlkI7lnKjkuIvmlrnlsZXnpLrljLrln5/mmK/lkKblsIbop5Lluqblm57mraMgKOaIkeaEn+inieS4jeWbnuato+S5n+aMuuWlveeci+eahClcbmNvbnN0IGlzR29hbFJvdGF0aW9uUmVzZXQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4vKipcbiAqIOa4uOaIj+aOp+WItuiEmuacrOOAguWumuS5ieS6huWHoOS4qmRyb3BCb3jvvIxidWxsZXTvvIxjcmVhdGVCb3hJbnRlcnZhbOetieWPmOmHj++8jOiDveWkn+WcqElEReaYvuekuuWPiuiuvue9ruivpeWPmOmHj1xuICog5pu05aSa57G75Z6L5a6a5LmJ77yM6K+35Y+C6ICD5a6Y5pa55paH5qGjXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb250cm9sIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xuICAgIHN0YXRpYyBpbnN0YW5jZTogR2FtZUNvbnRyb2w7XG5cbiAgICBwcml2YXRlIF9jb250YWluZXJCYWxsOiBMYXlhLlNwcml0ZTtcbiAgICBwcml2YXRlIF9nb2FsOiB7IFtrZXk6IG51bWJlcl06IGJvb2xlYW4gfSA9IHtcbiAgICAgICAgMTogZmFsc2UsXG4gICAgICAgIDI6IGZhbHNlLFxuICAgICAgICAzOiBmYWxzZSxcbiAgICAgICAgNDogZmFsc2UsXG4gICAgICAgIDU6IGZhbHNlLFxuICAgICAgICA2OiBmYWxzZSxcbiAgICAgICAgNzogZmFsc2UsXG4gICAgICAgIDg6IGZhbHNlLFxuICAgICAgICA5OiBmYWxzZSxcbiAgICAgICAgMTA6IGZhbHNlLFxuICAgICAgICAxMTogZmFsc2UsXG4gICAgICAgIDEyOiBmYWxzZSxcbiAgICAgICAgMTM6IGZhbHNlLFxuICAgICAgICAxNDogZmFsc2UsXG4gICAgICAgIDE1OiBmYWxzZSxcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7IFxuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLl9jb250YWluZXJCYWxsID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImNvbnRhaW5lcl9iYWxsXCIpIGFzIExheWEuU3ByaXRlO1xuXG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuICAgIH1cblxuICAgIG9uU3RhZ2VDbGljayhlOiBMYXlhLkV2ZW50KTogdm9pZCB7XG4gICAgICAgIC8v5YGc5q2i5LqL5Lu25YaS5rOh77yM5o+Q6auY5oCn6IO977yM5b2T54S25Lmf5Y+v5Lul5LiN6KaBXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8g6L+Z5Liq5piv6ZqP5py65pa55ZCR55Sf5oiQLCDmnIDml6nlvIDlj5HnmoTml7blgJnnlKjnmoQsIOeOsOWcqOaXqeWwseeUqOS4jeWIsOS6hlxuICAgICAgICAvLyBjb25zdCB4OiBudW1iZXIgPSAoLjUgPCBNYXRoLnJhbmRvbSgpID8gMSA6IC0xKSAqIE1hdGgucmFuZG9tKCkgKiAxMDtcbiAgICAgICAgLy8gY29uc3QgeTogbnVtYmVyID0gKC41IDwgTWF0aC5yYW5kb20oKSA/IDEgOiAtMSkgKiBNYXRoLnJhbmRvbSgpICogMTA7XG5cbiAgICAgICAgbGV0IGJhbGwgPSB0aGlzLl9jb250YWluZXJCYWxsLmdldENoaWxkQnlOYW1lKCdiYWxsX3doaXRlJykgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgY29uc3QgcGFyZW50ID0gYmFsbC5wYXJlbnQgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgY29uc3QgdG91Y2hYID0gZS5zdGFnZVg7XG4gICAgICAgIGNvbnN0IHRvdWNoWSA9IGUuc3RhZ2VZO1xuXG4gICAgICAgIGNvbnN0IGJhbGxYID0gYmFsbC54ICsgcGFyZW50Lng7XG4gICAgICAgIGNvbnN0IGJhbGxZID0gYmFsbC55ICsgcGFyZW50Lnk7XG5cbiAgICAgICAgY29uc3QgeDogbnVtYmVyID0gKHRvdWNoWCAtIGJhbGxYKSAvIDIwO1xuICAgICAgICBjb25zdCB5OiBudW1iZXIgPSAodG91Y2hZIC0gYmFsbFkpIC8gMjA7XG5cbiAgICAgICAgLy8g6L+Z5Liq5piv5byA5Y+R5pe255So5p2l5Yik5pat54K55Ye75L2N572u5ZKMXGLnkIPov5DooYzmlrnlkJHnlKjnmoQsIOeOsOWcqOW3sue7j+eul+WlveS6hiwg5bCx5YWI6ZqQ6JePLCDku6XlkI7osIPor5Xlj6/ku6Xnu6fnu63nlKhcbiAgICAgICAgLy8gY29uc29sZS5sb2codG91Y2hYLCB0b3VjaFksIGJhbGxYLCBiYWxsWSwgeCwgeSk7XG5cbiAgICAgICAgKGJhbGwgYXMgYW55KS5zdGFydE1vdmUoeCwgeSk7XG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICAvLyB0aGlzLm93bmVyLm9uKCdiYWxsLmdvYWwnLCB0aGlzLCB0aGlzLmhhbmRsZXJHb2FsKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3duZXIsICdoYW5kbGVyR29hbCcsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWU6IChudW1iZXI6IG51bWJlcikgPT4gdGhpcy5oYW5kbGVyR29hbChudW1iZXIpLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW1vdmVMaXN0ZW5lcnMoKTogdm9pZCB7XG4gICAgICAgIC8vIHRoaXMub3duZXIub2ZmKCdiYWxsLmdvYWwnLCB0aGlzLCB0aGlzLmhhbmRsZXJHb2FsKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3duZXIsICdoYW5kbGVyR29hbCcsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGhhbmRsZXJHb2FsKG51bWJlcjogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICgwID09PSBudW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnmb3nkIPov5vkuoYnKTtcbiAgICAgICAgICAgICh0aGlzLl9jb250YWluZXJCYWxsLmdldENoaWxkQnlOYW1lKCdiYWxsX3doaXRlJykgYXMgTGF5YS5TcHJpdGUpLnBvcyhpbml0aWFsUG9zaXRpb25XaGl0ZS54LCBpbml0aWFsUG9zaXRpb25XaGl0ZS55KTtcbiAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fZ29hbFtudW1iZXJdKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn6L+b55CD77yBXGInLCBudW1iZXIpO1xuICAgICAgICAgICAgdGhpcy5fZ29hbFtudW1iZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIFRPRE8g6KaB6K6h566X5LiL5LiL5pa56K6h5YiG5Yy65L2N572u5Zyo5ZOqXG4gICAgICAgICAgICBjb25zdCBiYWxsTmFtZTogc3RyaW5nID0gYGJhbGxfJHsxMCA+IG51bWJlciA/IGAwJHtudW1iZXJ9YDogbnVtYmVyfWA7XG4gICAgICAgICAgICBjb25zdCBiYWxsID0gdGhpcy5fY29udGFpbmVyQmFsbC5nZXRDaGlsZEJ5TmFtZShiYWxsTmFtZSkgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgICAgIC8vIOi/meS4qiByZW1vdmVTZWxmIOmZpOS6huebtOaOpeWGmeWcqCBiYWxsIOmHjOmdoiwg5ZCm5YiZ6YO95Lya5Zug5Li65pe25bqP6Zeu6aKY5omn6KGM5aSa5qyhLCDov5nph4zkuLrkuobku6PnoIHlpb3nnIssIOWkmuWGmeS6humYsumHjeWFpemAu+i+kVxuICAgICAgICAgICAgYmFsbC5yZW1vdmVTZWxmKCk7XG4gICAgICAgICAgICBiYWxsLnBvcyg0MCAqIChudW1iZXIgLSAxKSArIDMwLCAyNSk7XG4gICAgICAgICAgICBpc0dvYWxSb3RhdGlvblJlc2V0ICYmIChiYWxsLnJvdGF0aW9uID0gMCk7XG4gICAgICAgICAgICAodGhpcy5vd25lciBhcyBHYW1lKS5jb250YWluZXJfZ29hbC5hZGRDaGlsZChiYWxsKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IHVpIH0gZnJvbSAnLi8uLi91aS9sYXlhTWF4VUknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcjogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoKSB7IFxuICAgICAgICBzdXBlcigpOyBcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZWxOYW1lID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnbmFtZScpIGFzIExheWEuTGFiZWw7XG4gICAgICAgIGNvbnN0IGVsQXZhdGFyID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnYXZhdGFyJykgYXMgTGF5YS5JbWFnZTtcblxuICAgICAgICBjb25zdCBlbE1hc2sgPSBuZXcgTGF5YS5TcHJpdGUoKTtcblxuICAgICAgICAvLyDms6jmhI8sXGIgYXJjVG8g55qE56uv54K5IDEg5piv5Lik56uv54K55L2N572u5YiH57q/55qE5Lqk54K5XG4gICAgICAgIHZhciBwYXRoID0gIFtcbiAgICAgICAgICAgIFtcIm1vdmVUb1wiLCAxMCwgMF0sXG4gICAgICAgICAgICBbJ2xpbmVUbycsIDQwLCAwXSxcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDUwLCAwLCA1MCwgMTAsIDEwXSxcbiAgICAgICAgICAgIFsnbGluZVRvJywgNTAsIDQwXSxcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDUwLCA1MCwgNDAsIDUwLCAxMF0sXG4gICAgICAgICAgICBbJ2xpbmVUbycsIDEwLCA1MF0sXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCA1MCwgMCwgNDAsIDEwXSxcbiAgICAgICAgICAgIFsnbGluZVRvJywgMCwgMTBdLFxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgMCwgMTAsIDAsIDEwXSxcbiAgICAgICAgXTtcblxuICAgICAgICBlbE1hc2suZ3JhcGhpY3MuZHJhd1BhdGgoMCwgMCwgcGF0aCwgeyBmaWxsU3R5bGU6ICcjZmYwMDAwJyB9KTtcbiAgICAgICAgZWxNYXNrLnBvcygwLCAwKTtcblxuICAgICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKGVsTWFzayk7XG4gICAgICAgIGVsQXZhdGFyLm1hc2sgPSBlbE1hc2s7XG5cbiAgICAgICAgaWYgKHRoaXMuYXZhdGFyKSB7fVxuICAgIH1cbn1cbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkuZ2FtZSB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcblx0XHRwdWJsaWMgY29udGFpbmVyX3dhbGw6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGNvbnRhaW5lcl9ob2xlOkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBjb250YWluZXJfZ29hbDpMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcImdhbWUvR2FtZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgSG9sZVVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ2FtZS9Ib2xlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIl19
