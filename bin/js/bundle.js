var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const Game_1 = require("./script/Game");
const Ball_1 = require("./script/Ball");
const GameControl_1 = require("./script/GameControl");
const Player_1 = require("./script/Player");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/Game.ts", Game_1.default);
        reg("script/Ball.ts", Ball_1.default);
        reg("script/GameControl.ts", GameControl_1.default);
        reg("script/Player.ts", Player_1.default);
    }
}
GameConfig.width = 1136;
GameConfig.height = 640;
GameConfig.scaleMode = "fixedauto";
GameConfig.screenMode = "horizontal";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "game/Game.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = true;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();

},{"./script/Ball":3,"./script/Game":4,"./script/GameControl":5,"./script/Player":6}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
        this.onSetupShare();
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    }
    onSetupShare() {
        if (wx && wx.showShareMenu) {
            wx.showShareMenu({
                showShareItems: ['qzone', 'qq'],
            });
        }
        // if (wx && (wx as any).onShareAppMessage) {
        // 	(wx as any).onShareAppMessage(() => {
        // 		console.log(123123);
        // 		return {
        // 			title: '测试标题',
        // 			imageUrl: 'https://via.placeholder.com/500x400/09f/fff.png?text=Placeholder+Image+500x400',
        // 		};
        // 	});
        // }
    }
}
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const Game_1 = require("./Game");
const initialPositionWhite = new Laya.Point(140, 208);
/**
 * 子弹脚本，实现子弹飞行逻辑及对象池回收机制
 */
class Ball extends Laya.Script {
    constructor() {
        super();
        this.isInitialized = false;
    }
    onEnable() {
        if (!this.isInitialized) {
            // 测试时候没有皮肤, 用的白球 + 数字
            // if (this.number) {
            //     const label: Laya.Label = this.owner.getChildByName('label') as Laya.Label;
            //     label.text = `${this.number}`;
            // }
            Object.defineProperty(this.owner, 'startMove', {
                enumerable: false,
                value(xForce, yForce) {
                    var rig = this.getComponent(Laya.RigidBody);
                    rig.setVelocity({ x: xForce, y: yForce });
                    // 因为 game 里是个定时器, 所以存在刚点白球的时候连击可以多次击球的问题
                    Game_1.default.instance.isBallRunning = true;
                },
            });
            this.isInitialized = true;
        }
    }
    onDisable() { }
    onUpdate() {
        const owner = this.owner;
        const { x, y } = owner;
        const { startX, startY, endX, endY, middle, middleLeft, middleRight } = Game_1.default.instance.getCollisionCoordinate();
        const rig = this.owner.getComponent(Laya.RigidBody);
        const { x: currentX, y: currentY } = rig.linearVelocity;
        // 球最后零点几的位移基本看不出来了, 这时候再继续等待实在是太智障了
        if (3 > x && -3 < x && 3 > y && -3 < y) {
            // 因为这个都是碰撞操作, 所以一般不太可能出现非线性降速, 应该都能触发这个东西
            if (0 !== x && 0 !== y) {
                rig.setVelocity({ x: 0, y: 0, });
                // if (Game.instance.ballRunning[this.number]) {
                //     Game.instance.ballRunning[this.number] = false;
                // }
            }
        }
        else {
            // 只有是非动状态才会置为动
            // if (!Game.instance.ballRunning[this.number]) {
            //     Game.instance.ballRunning[this.number] = true;
            // }
        }
        if (x < startX) {
            if (y < startY) {
                if (22 > Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2))) {
                    console.log('左上洞');
                    this.handlerGoal();
                }
            }
            else if (y > endY) {
                if (22 > Math.sqrt((Math.pow((22 - (startX - x)), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('左下洞');
                    this.handlerGoal();
                }
            }
        }
        else if (x > endX) {
            if (y < startY) {
                if (22 > Math.sqrt((Math.pow((22 - (x - endX)), 2)) +
                    (Math.pow((22 - (startY - y)), 2)))) {
                    console.log('右上洞');
                    this.handlerGoal();
                }
            }
            else if (y > endY) {
                if (22 > Math.sqrt((Math.pow((22 - (x - endX)), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('右下洞');
                    this.handlerGoal();
                }
            }
        }
        else if (y < startY) {
            if (x > middleLeft && x < middleRight) {
                if (22 > Math.sqrt((Math.pow((x - middle), 2)) +
                    (Math.pow((22 - (startY - y)), 2)))) {
                    console.log('中上洞');
                    this.handlerGoal();
                }
            }
        }
        else if (y > endY) {
            if (x > middleLeft && x < middleRight) {
                if (22 > Math.sqrt((Math.pow((x - middle), 2)) +
                    (Math.pow((22 - (y - endY)), 2)))) {
                    console.log('中下洞');
                    this.handlerGoal();
                }
            }
        }
        // 其他情况就是在桌子中间了
    }
    handlerGoal() {
        // if (0 === this.number) {
        //     console.log('白球进了');
        //     (this.owner as Laya.Sprite).pos(initialPositionWhite.x, initialPositionWhite.y);
        // } else {
        //     console.log('进球！', this.number);
        //     // TODO 要计算下下方计分区位置在哪
        //     this.owner.removeSelf();
        //     const containerGoal = Game.instance.container_goal.addChild(this.owner);
        // }
        // Game.instance.event('ball.goal', this.number);
        Game_1.default.instance.handlerGoal(this.number);
    }
}
exports.default = Ball;

},{"./Game":4}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
const GameControl_1 = require("./GameControl");
class Game extends layaMaxUI_1.ui.game.GameUI {
    constructor() {
        super();
        // ballRunning: { [key: string]: boolean } = {
        //     0: false,
        //     1: false,
        //     2: false,
        //     3: false,
        //     4: false,
        //     5: false,
        //     6: false,
        //     7: false,
        //     8: false,
        //     9: false,
        //     10: false,
        //     11: false,
        //     12: false,
        //     13: false,
        //     14: false,
        //     15: false,
        // };
        this._ballsRigid = {
            0: undefined,
            1: undefined,
            2: undefined,
            3: undefined,
            4: undefined,
            5: undefined,
            6: undefined,
            7: undefined,
            8: undefined,
            9: undefined,
            10: undefined,
            11: undefined,
            12: undefined,
            13: undefined,
            14: undefined,
            15: undefined,
        };
        this._isBallRunning = false;
        Game.instance = this;
    }
    /**
     * 这个 get set 写的有点傻, 本来以为只需要写 get 的
     */
    get isBallRunning() {
        return this._isBallRunning;
    }
    set isBallRunning(val) {
        this._isBallRunning = val;
    }
    onEnable() {
        this._control = this.getComponent(GameControl_1.default);
        this._containerGoal = this.getChildByName('container_goal');
        const containerBall = this._containerBall = this.getChildByName('container_ball');
        this._startX = 0;
        this._startY = 0;
        this._endX = containerBall.width;
        this._endY = containerBall.height;
        this._middle = containerBall.width / 2;
        this._middleLeft = containerBall.width / 2 - 22;
        this._middleRight = containerBall.width / 2 + 22;
        this._startX += 22;
        this._startY += 22;
        this._endX -= 22;
        this._endY -= 22;
        // this.showRect();
        let tempBall = containerBall.getChildByName('ball_white');
        if (tempBall) {
            this._ballsRigid[0] = tempBall.getComponent(Laya.RigidBody);
        }
        for (let i = 1, l = 16; i < l; ++i) {
            tempBall = containerBall.getChildByName(`ball_${10 > i ? `0${i}` : i}`);
            if (tempBall) {
                this._ballsRigid[i] = tempBall.getComponent(Laya.RigidBody);
            }
            else {
                this._ballsRigid[i] = undefined;
            }
        }
        // 反正这个是判断有没有在动的, 跟着帧走应该差不多
        // 一秒一次某些时候等待太久
        Laya.timer.frameLoop(30, this, this.calculateBallStatue);
    }
    onDisable() {
        Laya.timer.clear(this, this.calculateBallStatue);
    }
    calculateBallStatue() {
        let isRunning = false;
        for (let key of Object.keys(this._ballsRigid)) {
            if (this._ballsRigid[key]) {
                const { x: currentX, y: currentY } = this._ballsRigid[key].linearVelocity;
                if (currentX && currentY) {
                    isRunning = true;
                }
            }
        }
        // 当所有球停止运动的时候, 触发个事件给外面
        if (this._isBallRunning && !isRunning) {
            this.event('ball.all.stop');
        }
        this._isBallRunning = isRunning;
    }
    getCollisionCoordinate() {
        return {
            startX: this._startX,
            startY: this._startY,
            endX: this._endX,
            endY: this._endY,
            middle: this._middle,
            middleLeft: this._middleLeft,
            middleRight: this._middleRight,
        };
    }
    /**
     * 展示碰撞框
     */
    showRect() {
        const line = new Laya.Sprite();
        line.graphics.drawRect(this._middle, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._middleLeft, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._middleRight, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._startX, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(this._endX, 0, 2, 500, '#ff0000');
        line.graphics.drawRect(0, this._startY, 900, 2, '#ff0000');
        line.graphics.drawRect(0, this._endY, 900, 2, '#ff0000');
        this.addChild(line);
    }
}
exports.default = Game;

},{"./../ui/layaMaxUI":7,"./GameControl":5}],5:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const Player_1 = require("./Player");
const initialPositionWhite = new Laya.Point(140, 208);
// 进球后在下方展示区域是否将角度回正 (我感觉不回正也挺好看的)
const isGoalRotationReset = true;
/**
 * 游戏控制脚本。定义了几个dropBox，bullet，createBoxInterval等变量，能够在IDE显示及设置该变量
 * 更多类型定义，请参考官方文档
 */
class GameControl extends Laya.Script {
    constructor() {
        super();
        this._goal = {
            1: false,
            2: false,
            3: false,
            4: false,
            5: false,
            6: false,
            7: false,
            8: false,
            9: false,
            10: false,
            11: false,
            12: false,
            13: false,
            14: false,
            15: false,
        };
        this._flags = {
            goalThisTurn: [],
        };
    }
    onEnable() {
        this._containerBall = this.owner.getChildByName("container_ball");
        this._playerLeft = this.owner.getChildByName('player_left');
        this._playerRight = this.owner.getChildByName('player_right');
        this.addListeners();
    }
    onDisable() {
        this.removeListeners();
    }
    onStageClick(e) {
        //停止事件冒泡，提高性能，当然也可以不要
        e.stopPropagation();
        // 如果球在动, 就不让继续击球了
        if (this.owner.isBallRunning) {
            return;
        }
        // 这个是随机方向生成, 最早开发的时候用的, 现在早就用不到了
        // const x: number = (.5 < Math.random() ? 1 : -1) * Math.random() * 10;
        // const y: number = (.5 < Math.random() ? 1 : -1) * Math.random() * 10;
        let ball = this._containerBall.getChildByName('ball_white');
        const parent = ball.parent;
        const touchX = e.stageX;
        const touchY = e.stageY;
        const ballX = ball.x + parent.x;
        const ballY = ball.y + parent.y;
        const x = (touchX - ballX) / 20;
        const y = (touchY - ballY) / 20;
        // 这个是开发时用来判断点击位置和球运行方向用的, 现在已经算好了, 就先隐藏, 以后调试可以继续用
        // console.log(touchX, touchY, ballX, ballY, x, y);
        ball.startMove(x, y);
    }
    addListeners() {
        // this.owner.on('ball.goal', this, this.handlerGoal);
        // 因为使用事件系统会导致进球判定变成异步且会重入, 因而在这里改成了直接把函数定义上去的方法
        Object.defineProperty(this.owner, 'handlerGoal', {
            enumerable: false,
            value: (number) => this.handlerGoal(number),
        });
        this.owner.on('ball.all.stop', this, this.judgeShot);
    }
    removeListeners() {
        // this.owner.off('ball.goal', this, this.handlerGoal);
        Object.defineProperty(this.owner, 'handlerGoal', {
            enumerable: false,
        });
        this.owner.off('ball.all.stop', this, this.judgeShot);
    }
    handlerGoal(number) {
        if (0 === number) {
            console.log('白球进了');
            this._containerBall.getChildByName('ball_white').pos(initialPositionWhite.x, initialPositionWhite.y);
        }
        else if (!this._goal[number]) {
            console.log('进球！', number);
            this._goal[number] = true;
            // TODO 要计算下下方计分区位置在哪
            const ballName = `ball_${10 > number ? `0${number}` : number}`;
            const ball = this._containerBall.getChildByName(ballName);
            // 这个 removeSelf 除了直接写在 ball 里面, 否则都会因为时序问题执行多次, 这里为了代码好看, 多写了防重入逻辑
            ball.removeSelf();
            ball.pos(40 * (number - 1) + 30, 25);
            isGoalRotationReset && (ball.rotation = 0);
            this.owner.container_goal.addChild(ball);
        }
        this._flags.goalThisTurn.push(number);
    }
    judgeShot() {
        const goalThisTurn = this._flags.goalThisTurn;
        if (goalThisTurn.length) {
            if (-1 < goalThisTurn.indexOf(0)) {
                // TODO
                // 可能需要罚杆？
                // 是不是进球全不算？
            }
            if (-1 < goalThisTurn.indexOf(8)) {
                // TODO 8 号球进了怎么算
            }
            if (-1 < goalThisTurn.findIndex((number) => 0 !== number && 8 !== number)) {
                const playerLeft = this._playerLeft.getComponent(Player_1.default);
                const playerRight = this._playerRight.getComponent(Player_1.default);
                if (undefined === playerLeft.target && undefined === playerRight.target) {
                    // this._playerCurrent
                    const firstBall = goalThisTurn.find((number) => 0 !== number && 8 !== number);
                    if ((0 === this._playerCurrent && 8 > firstBall) || (1 === this._playerCurrent && 8 < firstBall)) {
                        // 左玩家进了整球, 或者右玩家进了半球, 就是左整右半
                        playerLeft.target = 0;
                        playerRight.target = 1;
                    }
                    else {
                        // 否则就是左半右整
                        playerLeft.target = 1;
                        playerRight.target = 0;
                    }
                }
            }
            this._flags.goalThisTurn = [];
        }
        this._playerCurrent = 0 === this._playerCurrent ? 1 : 0;
    }
}
exports.default = GameControl;

},{"./Player":6}],6:[function(require,module,exports){
'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
class Player extends Laya.Script {
    get target() {
        return this._target;
    }
    set target(val) {
        this._target = val;
        console.log('target', val);
        if (0 === val) {
            // (this.owner.getChildByName('container_ball') as Laya.Sprite).texture = 'game/balls/ball_01.png';
            this.owner.getChildByName('target').skin = 'game/balls/ball_01.png';
        }
        else if (1 === val) {
            this.owner.getChildByName('target').skin = 'game/balls/ball_09.png';
        }
    }
    constructor() {
        super();
    }
    onEnable() {
        const elName = this.owner.getChildByName('name');
        const elAvatar = this.owner.getChildByName('avatar');
        const elMask = new Laya.Sprite();
        // 注意, arcTo 的端点 1 是两端点位置切线的交点
        var path = [
            ["moveTo", 10, 0],
            ['lineTo', 40, 0],
            ["arcTo", 50, 0, 50, 10, 10],
            ['lineTo', 50, 40],
            ["arcTo", 50, 50, 40, 50, 10],
            ['lineTo', 10, 50],
            ["arcTo", 0, 50, 0, 40, 10],
            ['lineTo', 0, 10],
            ["arcTo", 0, 0, 10, 0, 10],
        ];
        elMask.graphics.drawPath(0, 0, path, { fillStyle: '#ff0000' });
        elMask.pos(0, 0);
        // this.owner.addChild(elMask);
        elAvatar.mask = elMask;
        if (this.avatar) { }
    }
}
exports.default = Player;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var game;
    (function (game) {
        class GameUI extends Laya.Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("game/Game");
            }
        }
        game.GameUI = GameUI;
        class HoleUI extends Laya.View {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("game/Hole");
            }
        }
        game.HoleUI = HoleUI;
    })(game = ui.game || (ui.game = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL0FwcGxpY2F0aW9ucy9MYXlhQWlySURFLmFwcC9Db250ZW50cy9SZXNvdXJjZXMvYXBwL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvR2FtZUNvbmZpZy50cyIsInNyYy9NYWluLnRzIiwic3JjL3NjcmlwdC9CYWxsLnRzIiwic3JjL3NjcmlwdC9HYW1lLnRzIiwic3JjL3NjcmlwdC9HYW1lQ29udHJvbC50cyIsInNyYy9zY3JpcHQvUGxheWVyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsd0NBQWdDO0FBQ2hDLHdDQUFnQztBQUNoQyxzREFBOEM7QUFDOUMsNENBQW9DO0FBQ3BDOztFQUVFO0FBQ0Y7SUFhSSxnQkFBYyxDQUFDO0lBQ2YsTUFBTSxDQUFDLElBQUk7UUFDUCxJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztRQUM3QyxHQUFHLENBQUMsZ0JBQWdCLEVBQUMsY0FBSSxDQUFDLENBQUM7UUFDM0IsR0FBRyxDQUFDLGdCQUFnQixFQUFDLGNBQUksQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQyxxQkFBVyxDQUFDLENBQUM7UUFDekMsR0FBRyxDQUFDLGtCQUFrQixFQUFDLGdCQUFNLENBQUMsQ0FBQztJQUNuQyxDQUFDOztBQW5CTSxnQkFBSyxHQUFRLElBQUksQ0FBQztBQUNsQixpQkFBTSxHQUFRLEdBQUcsQ0FBQztBQUNsQixvQkFBUyxHQUFRLFdBQVcsQ0FBQztBQUM3QixxQkFBVSxHQUFRLFlBQVksQ0FBQztBQUMvQixpQkFBTSxHQUFRLEtBQUssQ0FBQztBQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztBQUNyQixxQkFBVSxHQUFLLGlCQUFpQixD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QWxCRCxXQUFjLEVBQUU7SUFBQyxJQUFBLElBQUksQ0FrQnBCO0lBbEJnQixXQUFBLElBQUk7UUFDakIsWUFBb0IsU0FBUSxJQUFJLENBQUMsS0FBSztZQUlsQyxnQkFBZSxLQUFLLEVBQUUsQ0FBQSxDQUFBLENBQUM7WUFDdkIsY0FBYztnQkFDVixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDaEMsQ0FBQztTQUNKO1FBVFksV0FBTSxTQVNsQixDQUFBO1FBQ0QsWUFBb0IsU0FBUSxJQUFJLENBQUMsSUFBSTtZQUNqQyxnQkFBZSxLQUFLLEVBQUUsQ0FBQSxDQUFBLENBQUM7WUFDdkIsY0FBYztnQkFDVixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDaEMsQ0FBQztTQUNKO1FBTlksV0FBTSxTQU1sQixDQUFBO0lBQ0wsQ0FBQyxFQWxCZ0IsSUFBSSxHQUFKLE9BQUksS0FBSixPQUFJLFFBa0JwQjtBQUFELENBQUMsRUFsQmEsRUFBRSxHQUFGLFVBQUUsS0FBRixVQUFFLFFBa0JmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZSBmcm9tIFwiLi9zY3JpcHQvR2FtZVwiXG5pbXBvcnQgQmFsbCBmcm9tIFwiLi9zY3JpcHQvQmFsbFwiXG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vc2NyaXB0L0dhbWVDb250cm9sXCJcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vc2NyaXB0L1BsYXllclwiXHJcbi8qXHJcbiog5ri45oiP5Yid5aeL5YyW6YWN572uO1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlne1xyXG4gICAgc3RhdGljIHdpZHRoOm51bWJlcj0xMTM2O1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIHNjYWxlTW9kZTpzdHJpbmc9XCJmaXhlZGF1dG9cIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cImhvcml6b250YWxcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cImdhbWUvR2FtZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj10cnVlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZS50c1wiLEdhbWUpO1xuICAgICAgICByZWcoXCJzY3JpcHQvQmFsbC50c1wiLEJhbGwpO1xuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZUNvbnRyb2wudHNcIixHYW1lQ29udHJvbCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9QbGF5ZXIudHNcIixQbGF5ZXIpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuXHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHJcblx0XHR0aGlzLm9uU2V0dXBTaGFyZSgpO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG5cclxuXHRvblNldHVwU2hhcmUoKTogdm9pZCB7XHJcblx0XHRpZiAod3ggJiYgd3guc2hvd1NoYXJlTWVudSkge1xyXG5cdFx0XHR3eC5zaG93U2hhcmVNZW51KHtcclxuXHRcdFx0XHRzaG93U2hhcmVJdGVtczogWydxem9uZScsICdxcSddLFxyXG5cdFx0XHR9IGFzIGFueSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaWYgKHd4ICYmICh3eCBhcyBhbnkpLm9uU2hhcmVBcHBNZXNzYWdlKSB7XHJcblx0XHQvLyBcdCh3eCBhcyBhbnkpLm9uU2hhcmVBcHBNZXNzYWdlKCgpID0+IHtcclxuXHRcdC8vIFx0XHRjb25zb2xlLmxvZygxMjMxMjMpO1xyXG5cdFx0Ly8gXHRcdHJldHVybiB7XHJcblx0XHQvLyBcdFx0XHR0aXRsZTogJ+a1i+ivleagh+mimCcsXHJcblx0XHQvLyBcdFx0XHRpbWFnZVVybDogJ2h0dHBzOi8vdmlhLnBsYWNlaG9sZGVyLmNvbS81MDB4NDAwLzA5Zi9mZmYucG5nP3RleHQ9UGxhY2Vob2xkZXIrSW1hZ2UrNTAweDQwMCcsXHJcblx0XHQvLyBcdFx0fTtcclxuXHRcdC8vIFx0fSk7XHJcblx0XHQvLyB9XHJcblx0fX1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xuaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lJztcblxuY29uc3QgaW5pdGlhbFBvc2l0aW9uV2hpdGU6IExheWEuUG9pbnQgPSBuZXcgTGF5YS5Qb2ludCgxNDAsIDIwOCk7XG5cbi8qKlxuICog5a2Q5by56ISa5pys77yM5a6e546w5a2Q5by56aOe6KGM6YC76L6R5Y+K5a+56LGh5rGg5Zue5pS25py65Yi2XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhbGwgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgLyoqIEBwcm9wIHsgbmFtZTogbnVtYmVyLCB0aXBzOlwi55CD55qE5Y+356CB77yMMCDku6Pooajnmb3nkINcIiwgdHlwZTogaW50fSovXG4gICAgbnVtYmVyOiBudW1iZXI7XG5cbiAgICBpc0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTsgXG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAvLyDmtYvor5Xml7blgJnmsqHmnInnmq7ogqQsIOeUqOeahOeZveeQgyArIOaVsOWtl1xuICAgICAgICAgICAgLy8gaWYgKHRoaXMubnVtYmVyKSB7XG4gICAgICAgICAgICAvLyAgICAgY29uc3QgbGFiZWw6IExheWEuTGFiZWwgPSB0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKCdsYWJlbCcpIGFzIExheWEuTGFiZWw7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gICAgIGxhYmVsLnRleHQgPSBgJHt0aGlzLm51bWJlcn1gO1xuICAgICAgICAgICAgLy8gfVxuICAgIFxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMub3duZXIsICdzdGFydE1vdmUnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWUoeEZvcmNlOiBudW1iZXIsIHlGb3JjZTogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaWc6IExheWEuUmlnaWRCb2R5ID0gdGhpcy5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICByaWcuc2V0VmVsb2NpdHkoeyB4OiB4Rm9yY2UsIHk6IHlGb3JjZSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyDlm6DkuLogZ2FtZSDph4zmmK/kuKrlrprml7blmagsIOaJgOS7peWtmOWcqOWImueCueeZveeQg+eahOaXtuWAmei/nuWHu+WPr+S7peWkmuasoeWHu+eQg+eahOmXrumimFxuICAgICAgICAgICAgICAgICAgICBHYW1lLmluc3RhbmNlLmlzQmFsbFJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpOiB2b2lkIHt9XG5cbiAgICBvblVwZGF0ZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgb3duZXIgPSB0aGlzLm93bmVyIGFzIExheWEuU3ByaXRlO1xuXG4gICAgICAgIGNvbnN0IHsgeCwgeSB9ID0gb3duZXI7XG5cbiAgICAgICAgY29uc3QgeyBzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgbWlkZGxlLCBtaWRkbGVMZWZ0LCBtaWRkbGVSaWdodCB9ID0gR2FtZS5pbnN0YW5jZS5nZXRDb2xsaXNpb25Db29yZGluYXRlKCk7XG5cbiAgICAgICAgY29uc3QgcmlnOiBMYXlhLlJpZ2lkQm9keSA9IHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KExheWEuUmlnaWRCb2R5KVxuICAgICAgICBjb25zdCB7IHg6IGN1cnJlbnRYLCB5OiBjdXJyZW50WSB9ID0gcmlnLmxpbmVhclZlbG9jaXR5O1xuXG4gICAgICAgIC8vIOeQg+acgOWQjumbtueCueWHoOeahOS9jeenu+WfuuacrOeci+S4jeWHuuadpeS6hiwg6L+Z5pe25YCZ5YaN57un57ut562J5b6F5a6e5Zyo5piv5aSq5pm66Zqc5LqGXG4gICAgICAgIGlmICgzID4geCAmJiAtMyA8IHggJiYgMyA+IHkgJiYgLTMgPCB5KSB7XG4gICAgICAgICAgICAvLyDlm6DkuLrov5nkuKrpg73mmK/norDmkp7mk43kvZwsIOaJgOS7peS4gOiIrOS4jeWkquWPr+iDveWHuueOsOmdnue6v+aAp+mZjemAnywg5bqU6K+l6YO96IO96Kem5Y+R6L+Z5Liq5Lic6KW/XG4gICAgICAgICAgICBpZiAoMCAhPT0geCAmJiAwICE9PSB5KSB7XG4gICAgICAgICAgICAgICAgcmlnLnNldFZlbG9jaXR5KHsgeDogMCwgeTogMCwgfSk7XG4gICAgICAgICAgICAgICAgLy8gaWYgKEdhbWUuaW5zdGFuY2UuYmFsbFJ1bm5pbmdbdGhpcy5udW1iZXJdKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgIEdhbWUuaW5zdGFuY2UuYmFsbFJ1bm5pbmdbdGhpcy5udW1iZXJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g5Y+q5pyJ5piv6Z2e5Yqo54q25oCB5omN5Lya572u5Li65YqoXG4gICAgICAgICAgICAvLyBpZiAoIUdhbWUuaW5zdGFuY2UuYmFsbFJ1bm5pbmdbdGhpcy5udW1iZXJdKSB7XG4gICAgICAgICAgICAvLyAgICAgR2FtZS5pbnN0YW5jZS5iYWxsUnVubmluZ1t0aGlzLm51bWJlcl0gPSB0cnVlO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHggPCBzdGFydFgpIHtcbiAgICAgICAgICAgIGlmICh5IDwgc3RhcnRZKSB7XG4gICAgICAgICAgICAgICAgaWYgKDIyID4gTWF0aC5zcXJ0KHggKiogMiArIHkgKiogMikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W3puS4iua0nicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJHb2FsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh5ID4gZW5kWSkge1xuICAgICAgICAgICAgICAgIGlmICgyMiA+IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtIChzdGFydFggLSB4KSkgKiogMikgKyBcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtICh5IC0gZW5kWSkpICoqIDIpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5bem5LiL5rSeJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlckdvYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoeCA+IGVuZFgpIHtcbiAgICAgICAgICAgIGlmICh5IDwgc3RhcnRZKSB7XG4gICAgICAgICAgICAgICAgaWYgKDIyID4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICAoKDIyIC0gKHggLSBlbmRYKSkgKiogMikgKyBcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtIChzdGFydFkgLSB5KSkgKiogMilcbiAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflj7PkuIrmtJ4nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyR29hbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA+IGVuZFkpIHtcbiAgICAgICAgICAgICAgICBpZiAoMjIgPiBNYXRoLnNxcnQoXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoeCAtIGVuZFgpKSAqKiAyKSArIFxuICAgICAgICAgICAgICAgICAgICAoKDIyIC0gKHkgLSBlbmRZKSkgKiogMilcbiAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflj7PkuIvmtJ4nKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyR29hbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh5IDwgc3RhcnRZKSB7XG4gICAgICAgICAgICBpZiAoeCA+IG1pZGRsZUxlZnQgJiYgeCA8IG1pZGRsZVJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgaWYgKDIyID4gTWF0aC5zcXJ0KFxuICAgICAgICAgICAgICAgICAgICAoKHggLSBtaWRkbGUpICoqIDIpICsgXG4gICAgICAgICAgICAgICAgICAgICgoMjIgLSAoc3RhcnRZIC0geSkpICoqIDIpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Lit5LiK5rSeJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlckdvYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoeSA+IGVuZFkpIHtcbiAgICAgICAgICAgIGlmICh4ID4gbWlkZGxlTGVmdCAmJiB4IDwgbWlkZGxlUmlnaHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoMjIgPiBNYXRoLnNxcnQoXG4gICAgICAgICAgICAgICAgICAgICgoeCAtIG1pZGRsZSkgKiogMikgKyBcbiAgICAgICAgICAgICAgICAgICAgKCgyMiAtICh5IC0gZW5kWSkpICoqIDIpXG4gICAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5Lit5LiL5rSeJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlckdvYWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8g5YW25LuW5oOF5Ya15bCx5piv5Zyo5qGM5a2Q5Lit6Ze05LqGXG4gICAgfVxuXG4gICAgaGFuZGxlckdvYWwoKTogdm9pZCB7XG4gICAgICAgIC8vIGlmICgwID09PSB0aGlzLm51bWJlcikge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ+eZveeQg+i/m+S6hicpO1xuICAgICAgICAvLyAgICAgKHRoaXMub3duZXIgYXMgTGF5YS5TcHJpdGUpLnBvcyhpbml0aWFsUG9zaXRpb25XaGl0ZS54LCBpbml0aWFsUG9zaXRpb25XaGl0ZS55KTtcbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCfov5vnkIPvvIFcYicsIHRoaXMubnVtYmVyKTtcbiAgICAgICAgLy8gICAgIC8vIFRPRE8g6KaB6K6h566X5LiL5LiL5pa56K6h5YiG5Yy65L2N572u5Zyo5ZOqXG4gICAgICAgIC8vICAgICB0aGlzLm93bmVyLnJlbW92ZVNlbGYoKTtcbiAgICAgICAgLy8gICAgIGNvbnN0IGNvbnRhaW5lckdvYWwgPSBHYW1lLmluc3RhbmNlLmNvbnRhaW5lcl9nb2FsLmFkZENoaWxkKHRoaXMub3duZXIpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIEdhbWUuaW5zdGFuY2UuZXZlbnQoJ2JhbGwuZ29hbCcsIHRoaXMubnVtYmVyKTtcbiAgICAgICAgKEdhbWUuaW5zdGFuY2UgYXMgYW55KS5oYW5kbGVyR29hbCh0aGlzLm51bWJlcik7XG4gICAgfVxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XG5pbXBvcnQgR2FtZUNvbnRyb2wgZnJvbSBcIi4vR2FtZUNvbnRyb2xcIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIGV4dGVuZHMgdWkuZ2FtZS5HYW1lVUkge1xuICAgIHN0YXRpYyBpbnN0YW5jZTogR2FtZTtcblxuICAgIC8vIGJhbGxSdW5uaW5nOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHtcbiAgICAvLyAgICAgMDogZmFsc2UsXG4gICAgLy8gICAgIDE6IGZhbHNlLFxuICAgIC8vICAgICAyOiBmYWxzZSxcbiAgICAvLyAgICAgMzogZmFsc2UsXG4gICAgLy8gICAgIDQ6IGZhbHNlLFxuICAgIC8vICAgICA1OiBmYWxzZSxcbiAgICAvLyAgICAgNjogZmFsc2UsXG4gICAgLy8gICAgIDc6IGZhbHNlLFxuICAgIC8vICAgICA4OiBmYWxzZSxcbiAgICAvLyAgICAgOTogZmFsc2UsXG4gICAgLy8gICAgIDEwOiBmYWxzZSxcbiAgICAvLyAgICAgMTE6IGZhbHNlLFxuICAgIC8vICAgICAxMjogZmFsc2UsXG4gICAgLy8gICAgIDEzOiBmYWxzZSxcbiAgICAvLyAgICAgMTQ6IGZhbHNlLFxuICAgIC8vICAgICAxNTogZmFsc2UsXG4gICAgLy8gfTtcblxuICAgIHByaXZhdGUgX2JhbGxzUmlnaWQ6IHsgW2tleTogbnVtYmVyXTogTGF5YS5SaWdpZEJvZHkgfSA9IHtcbiAgICAgICAgMDogdW5kZWZpbmVkLFxuICAgICAgICAxOiB1bmRlZmluZWQsXG4gICAgICAgIDI6IHVuZGVmaW5lZCxcbiAgICAgICAgMzogdW5kZWZpbmVkLFxuICAgICAgICA0OiB1bmRlZmluZWQsXG4gICAgICAgIDU6IHVuZGVmaW5lZCxcbiAgICAgICAgNjogdW5kZWZpbmVkLFxuICAgICAgICA3OiB1bmRlZmluZWQsXG4gICAgICAgIDg6IHVuZGVmaW5lZCxcbiAgICAgICAgOTogdW5kZWZpbmVkLFxuICAgICAgICAxMDogdW5kZWZpbmVkLFxuICAgICAgICAxMTogdW5kZWZpbmVkLFxuICAgICAgICAxMjogdW5kZWZpbmVkLFxuICAgICAgICAxMzogdW5kZWZpbmVkLFxuICAgICAgICAxNDogdW5kZWZpbmVkLFxuICAgICAgICAxNTogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICBwcml2YXRlIF9pc0JhbGxSdW5uaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIF9jb250cm9sOiBHYW1lQ29udHJvbDtcbiAgICBwcml2YXRlIF9jb250YWluZXJCYWxsOiBMYXlhLlNwcml0ZTtcbiAgICBwcml2YXRlIF9jb250YWluZXJHb2FsOiBMYXlhLlNwcml0ZTtcblxuICAgIHByaXZhdGUgX3N0YXJ0WDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3N0YXJ0WTogbnVtYmVyO1xuICAgIHByaXZhdGUgX2VuZFg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9lbmRZOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIF9taWRkbGU6IG51bWJlcjtcbiAgICBwcml2YXRlIF9taWRkbGVMZWZ0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfbWlkZGxlUmlnaHQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIOi/meS4qiBnZXQgc2V0IOWGmeeahOacieeCueWCuywg5pys5p2l5Lul5Li65Y+q6ZyA6KaB5YaZIGdldCDnmoRcbiAgICAgKi9cbiAgICBnZXQgaXNCYWxsUnVubmluZygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQmFsbFJ1bm5pbmc7XG4gICAgfVxuXG4gICAgc2V0IGlzQmFsbFJ1bm5pbmcodmFsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2lzQmFsbFJ1bm5pbmcgPSB2YWw7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgR2FtZS5pbnN0YW5jZSA9IHRoaXM7XG4gICAgfVxuXG4gICAgb25FbmFibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX2NvbnRyb2wgPSB0aGlzLmdldENvbXBvbmVudChHYW1lQ29udHJvbCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckdvYWwgPSB0aGlzLmdldENoaWxkQnlOYW1lKCdjb250YWluZXJfZ29hbCcpIGFzIExheWEuU3ByaXRlO1xuICAgICAgICBjb25zdCBjb250YWluZXJCYWxsID0gdGhpcy5fY29udGFpbmVyQmFsbCA9IHRoaXMuZ2V0Q2hpbGRCeU5hbWUoJ2NvbnRhaW5lcl9iYWxsJykgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgdGhpcy5fc3RhcnRYID0gMDtcbiAgICAgICAgdGhpcy5fc3RhcnRZID0gMDtcbiAgICAgICAgdGhpcy5fZW5kWCA9IGNvbnRhaW5lckJhbGwud2lkdGg7XG4gICAgICAgIHRoaXMuX2VuZFkgPSBjb250YWluZXJCYWxsLmhlaWdodDtcblxuICAgICAgICB0aGlzLl9taWRkbGUgPSBjb250YWluZXJCYWxsLndpZHRoIC8gMjtcbiAgICAgICAgdGhpcy5fbWlkZGxlTGVmdCA9IGNvbnRhaW5lckJhbGwud2lkdGggLyAyIC0gMjI7XG4gICAgICAgIHRoaXMuX21pZGRsZVJpZ2h0ID0gY29udGFpbmVyQmFsbC53aWR0aCAvIDIgKyAyMjtcblxuICAgICAgICB0aGlzLl9zdGFydFggKz0gMjI7XG4gICAgICAgIHRoaXMuX3N0YXJ0WSArPSAyMjtcbiAgICAgICAgdGhpcy5fZW5kWCAtPSAyMjtcbiAgICAgICAgdGhpcy5fZW5kWSAtPSAyMjtcblxuICAgICAgICAvLyB0aGlzLnNob3dSZWN0KCk7XG5cbiAgICAgICAgbGV0IHRlbXBCYWxsOiBMYXlhLk5vZGUgPSBjb250YWluZXJCYWxsLmdldENoaWxkQnlOYW1lKCdiYWxsX3doaXRlJyk7XG4gICAgICAgIGlmICh0ZW1wQmFsbCkge1xuICAgICAgICAgICAgdGhpcy5fYmFsbHNSaWdpZFswXSA9IHRlbXBCYWxsLmdldENvbXBvbmVudChMYXlhLlJpZ2lkQm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMSwgbCA9IDE2OyBpIDwgbDsgKytpKSB7XG4gICAgICAgICAgICB0ZW1wQmFsbCA9IGNvbnRhaW5lckJhbGwuZ2V0Q2hpbGRCeU5hbWUoYGJhbGxfJHsxMCA+IGkgPyBgMCR7aX1gIDogaX1gKTtcbiAgICAgICAgICAgIGlmICh0ZW1wQmFsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JhbGxzUmlnaWRbaV0gPSB0ZW1wQmFsbC5nZXRDb21wb25lbnQoTGF5YS5SaWdpZEJvZHkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9iYWxsc1JpZ2lkW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8g5Y+N5q2j6L+Z5Liq5piv5Yik5pat5pyJ5rKh5pyJ5Zyo5Yqo55qELCDot5/nnYDluKfotbDlupTor6Xlt67kuI3lpJpcbiAgICAgICAgLy8gXGLkuIDnp5LkuIDmrKHmn5Dkupvml7blgJnnrYnlvoXlpKrkuYVcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMzAsIHRoaXMsIHRoaXMuY2FsY3VsYXRlQmFsbFN0YXR1ZSk7XG4gICAgfVxuXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xuICAgICAgICBMYXlhLnRpbWVyLmNsZWFyKHRoaXMsIHRoaXMuY2FsY3VsYXRlQmFsbFN0YXR1ZSk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlQmFsbFN0YXR1ZSgpOiB2b2lkIHtcbiAgICAgICAgbGV0IGlzUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLl9iYWxsc1JpZ2lkKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2JhbGxzUmlnaWRba2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgeDogY3VycmVudFgsIHk6IGN1cnJlbnRZIH0gPSB0aGlzLl9iYWxsc1JpZ2lkW2tleV0ubGluZWFyVmVsb2NpdHk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFggJiYgY3VycmVudFkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNSdW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyDlvZPmiYDmnInnkIPlgZzmraLov5DliqjnmoTml7blgJksIOinpuWPkeS4quS6i+S7tue7meWklumdolxuICAgICAgICBpZiAodGhpcy5faXNCYWxsUnVubmluZyAmJiAhaXNSdW5uaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50KCdiYWxsLmFsbC5zdG9wJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc0JhbGxSdW5uaW5nID0gaXNSdW5uaW5nO1xuICAgIH1cblxuICAgIGdldENvbGxpc2lvbkNvb3JkaW5hdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydFg6IHRoaXMuX3N0YXJ0WCxcbiAgICAgICAgICAgIHN0YXJ0WTogdGhpcy5fc3RhcnRZLFxuICAgICAgICAgICAgZW5kWDogdGhpcy5fZW5kWCxcbiAgICAgICAgICAgIGVuZFk6IHRoaXMuX2VuZFksXG5cbiAgICAgICAgICAgIG1pZGRsZTogdGhpcy5fbWlkZGxlLFxuICAgICAgICAgICAgbWlkZGxlTGVmdDogdGhpcy5fbWlkZGxlTGVmdCxcbiAgICAgICAgICAgIG1pZGRsZVJpZ2h0OiB0aGlzLl9taWRkbGVSaWdodCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICog5bGV56S656Kw5pKe5qGGXG4gICAgICovXG4gICAgc2hvd1JlY3QoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcblxuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX21pZGRsZSwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX21pZGRsZUxlZnQsIDAsIDIsIDUwMCwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCh0aGlzLl9taWRkbGVSaWdodCwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX3N0YXJ0WCwgMCwgMiwgNTAwLCAnI2ZmMDAwMCcpO1xuICAgICAgICBsaW5lLmdyYXBoaWNzLmRyYXdSZWN0KHRoaXMuX2VuZFgsIDAsIDIsIDUwMCwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCgwLCB0aGlzLl9zdGFydFksIDkwMCwgMiwgJyNmZjAwMDAnKTtcbiAgICAgICAgbGluZS5ncmFwaGljcy5kcmF3UmVjdCgwLCB0aGlzLl9lbmRZLCA5MDAsIDIsICcjZmYwMDAwJyk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZChsaW5lKTtcbiAgICB9XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IEJhbGwgZnJvbSAnLi9CYWxsJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9QbGF5ZXInO1xuXG5jb25zdCBpbml0aWFsUG9zaXRpb25XaGl0ZTogTGF5YS5Qb2ludCA9IG5ldyBMYXlhLlBvaW50KDE0MCwgMjA4KTtcbi8vIOi/m+eQg+WQjuWcqOS4i+aWueWxleekuuWMuuWfn+aYr+WQpuWwhuinkuW6puWbnuatoyAo5oiR5oSf6KeJ5LiN5Zue5q2j5Lmf5oy65aW955yL55qEKVxuY29uc3QgaXNHb2FsUm90YXRpb25SZXNldDogYm9vbGVhbiA9IHRydWU7XG5cbi8qKlxuICog5ri45oiP5o6n5Yi26ISa5pys44CC5a6a5LmJ5LqG5Yeg5LiqZHJvcEJveO+8jGJ1bGxldO+8jGNyZWF0ZUJveEludGVydmFs562J5Y+Y6YeP77yM6IO95aSf5ZyoSURF5pi+56S65Y+K6K6+572u6K+l5Y+Y6YePXG4gKiDmm7TlpJrnsbvlnovlrprkuYnvvIzor7flj4LogIPlrpjmlrnmlofmoaNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbnRyb2wgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgc3RhdGljIGluc3RhbmNlOiBHYW1lQ29udHJvbDtcblxuICAgIHByaXZhdGUgX2NvbnRhaW5lckJhbGw6IExheWEuU3ByaXRlO1xuICAgIHByaXZhdGUgX3BsYXllckxlZnQ6IExheWEuU3ByaXRlO1xuICAgIHByaXZhdGUgX3BsYXllclJpZ2h0OiBMYXlhLlNwcml0ZTtcblxuICAgIC8qKlxuICAgICAqIOebruWJjSAwIOS7o+ihqCBsZWZ0IDEg5Luj6KGoIHJpZ2h0XG4gICAgICovXG4gICAgcHJpdmF0ZSBfcGxheWVyQ3VycmVudDogbnVtYmVyO1xuICAgIHByaXZhdGUgX2dvYWw6IHsgW2tleTogbnVtYmVyXTogYm9vbGVhbiB9ID0ge1xuICAgICAgICAxOiBmYWxzZSxcbiAgICAgICAgMjogZmFsc2UsXG4gICAgICAgIDM6IGZhbHNlLFxuICAgICAgICA0OiBmYWxzZSxcbiAgICAgICAgNTogZmFsc2UsXG4gICAgICAgIDY6IGZhbHNlLFxuICAgICAgICA3OiBmYWxzZSxcbiAgICAgICAgODogZmFsc2UsXG4gICAgICAgIDk6IGZhbHNlLFxuICAgICAgICAxMDogZmFsc2UsXG4gICAgICAgIDExOiBmYWxzZSxcbiAgICAgICAgMTI6IGZhbHNlLFxuICAgICAgICAxMzogZmFsc2UsXG4gICAgICAgIDE0OiBmYWxzZSxcbiAgICAgICAgMTU6IGZhbHNlLFxuICAgIH07XG5cbiAgICBwcml2YXRlIF9mbGFnczoge1xuICAgICAgICBnb2FsVGhpc1R1cm46IG51bWJlcltdLFxuICAgIH0gPSB7XG4gICAgICAgIGdvYWxUaGlzVHVybjogW10sXG4gICAgfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpOyBcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyQmFsbCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoXCJjb250YWluZXJfYmFsbFwiKSBhcyBMYXlhLlNwcml0ZTtcbiAgICAgICAgdGhpcy5fcGxheWVyTGVmdCA9IHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoJ3BsYXllcl9sZWZ0JykgYXMgTGF5YS5TcHJpdGU7XG4gICAgICAgIHRoaXMuX3BsYXllclJpZ2h0ID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgncGxheWVyX3JpZ2h0JykgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgfVxuXG4gICAgb25TdGFnZUNsaWNrKGU6IExheWEuRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgLy/lgZzmraLkuovku7blhpLms6HvvIzmj5Dpq5jmgKfog73vvIzlvZPnhLbkuZ/lj6/ku6XkuI3opoFcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAvLyDlpoLmnpznkIPlnKjliqgsIOWwseS4jeiuqee7p+e7reWHu+eQg+S6hlxuICAgICAgICBpZiAoKHRoaXMub3duZXIgYXMgR2FtZSkuaXNCYWxsUnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8g6L+Z5Liq5piv6ZqP5py65pa55ZCR55Sf5oiQLCDmnIDml6nlvIDlj5HnmoTml7blgJnnlKjnmoQsIOeOsOWcqOaXqeWwseeUqOS4jeWIsOS6hlxuICAgICAgICAvLyBjb25zdCB4OiBudW1iZXIgPSAoLjUgPCBNYXRoLnJhbmRvbSgpID8gMSA6IC0xKSAqIE1hdGgucmFuZG9tKCkgKiAxMDtcbiAgICAgICAgLy8gY29uc3QgeTogbnVtYmVyID0gKC41IDwgTWF0aC5yYW5kb20oKSA/IDEgOiAtMSkgKiBNYXRoLnJhbmRvbSgpICogMTA7XG5cbiAgICAgICAgbGV0IGJhbGwgPSB0aGlzLl9jb250YWluZXJCYWxsLmdldENoaWxkQnlOYW1lKCdiYWxsX3doaXRlJykgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgY29uc3QgcGFyZW50ID0gYmFsbC5wYXJlbnQgYXMgTGF5YS5TcHJpdGU7XG5cbiAgICAgICAgY29uc3QgdG91Y2hYID0gZS5zdGFnZVg7XG4gICAgICAgIGNvbnN0IHRvdWNoWSA9IGUuc3RhZ2VZO1xuXG4gICAgICAgIGNvbnN0IGJhbGxYID0gYmFsbC54ICsgcGFyZW50Lng7XG4gICAgICAgIGNvbnN0IGJhbGxZID0gYmFsbC55ICsgcGFyZW50Lnk7XG5cbiAgICAgICAgY29uc3QgeDogbnVtYmVyID0gKHRvdWNoWCAtIGJhbGxYKSAvIDIwO1xuICAgICAgICBjb25zdCB5OiBudW1iZXIgPSAodG91Y2hZIC0gYmFsbFkpIC8gMjA7XG5cbiAgICAgICAgLy8g6L+Z5Liq5piv5byA5Y+R5pe255So5p2l5Yik5pat54K55Ye75L2N572u5ZKMXGLnkIPov5DooYzmlrnlkJHnlKjnmoQsIOeOsOWcqOW3sue7j+eul+WlveS6hiwg5bCx5YWI6ZqQ6JePLCDku6XlkI7osIPor5Xlj6/ku6Xnu6fnu63nlKhcbiAgICAgICAgLy8gY29uc29sZS5sb2codG91Y2hYLCB0b3VjaFksIGJhbGxYLCBiYWxsWSwgeCwgeSk7XG5cbiAgICAgICAgKGJhbGwgYXMgYW55KS5zdGFydE1vdmUoeCwgeSk7XG4gICAgfVxuXG4gICAgYWRkTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICAvLyB0aGlzLm93bmVyLm9uKCdiYWxsLmdvYWwnLCB0aGlzLCB0aGlzLmhhbmRsZXJHb2FsKTtcbiAgICAgICAgLy8g5Zug5Li65L2/55So5LqL5Lu257O757uf5Lya5a+86Ie06L+b55CD5Yik5a6a5Y+Y5oiQXGLlvILmraXkuJTkvJrph43lhaUsIOWboOiAjOWcqOi/memHjOaUueaIkOS6huebtOaOpeaKiuWHveaVsOWumuS5ieS4iuWOu+eahOaWueazlVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5vd25lciwgJ2hhbmRsZXJHb2FsJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogKG51bWJlcjogbnVtYmVyKSA9PiB0aGlzLmhhbmRsZXJHb2FsKG51bWJlciksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMub3duZXIub24oJ2JhbGwuYWxsLnN0b3AnLCB0aGlzLCB0aGlzLmp1ZGdlU2hvdCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlTGlzdGVuZXJzKCk6IHZvaWQge1xuICAgICAgICAvLyB0aGlzLm93bmVyLm9mZignYmFsbC5nb2FsJywgdGhpcywgdGhpcy5oYW5kbGVyR29hbCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLm93bmVyLCAnaGFuZGxlckdvYWwnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5vd25lci5vZmYoJ2JhbGwuYWxsLnN0b3AnLCB0aGlzLCB0aGlzLmp1ZGdlU2hvdCk7XG4gICAgfVxuXG4gICAgaGFuZGxlckdvYWwobnVtYmVyOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgaWYgKDAgPT09IG51bWJlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+eZveeQg+i/m+S6hicpO1xuICAgICAgICAgICAgKHRoaXMuX2NvbnRhaW5lckJhbGwuZ2V0Q2hpbGRCeU5hbWUoJ2JhbGxfd2hpdGUnKSBhcyBMYXlhLlNwcml0ZSkucG9zKGluaXRpYWxQb3NpdGlvbldoaXRlLngsIGluaXRpYWxQb3NpdGlvbldoaXRlLnkpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9nb2FsW251bWJlcl0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfov5vnkIPvvIFcYicsIG51bWJlcik7XG4gICAgICAgICAgICB0aGlzLl9nb2FsW251bWJlcl0gPSB0cnVlO1xuICAgICAgICAgICAgLy8gVE9ETyDopoHorqHnrpfkuIvkuIvmlrnorqHliIbljLrkvY3nva7lnKjlk6pcbiAgICAgICAgICAgIGNvbnN0IGJhbGxOYW1lOiBzdHJpbmcgPSBgYmFsbF8kezEwID4gbnVtYmVyID8gYDAke251bWJlcn1gOiBudW1iZXJ9YDtcbiAgICAgICAgICAgIGNvbnN0IGJhbGwgPSB0aGlzLl9jb250YWluZXJCYWxsLmdldENoaWxkQnlOYW1lKGJhbGxOYW1lKSBhcyBMYXlhLlNwcml0ZTtcblxuICAgICAgICAgICAgLy8g6L+Z5LiqIHJlbW92ZVNlbGYg6Zmk5LqG55u05o6l5YaZ5ZyoIGJhbGwg6YeM6Z2iLCDlkKbliJnpg73kvJrlm6DkuLrml7bluo/pl67popjmiafooYzlpJrmrKEsIOi/memHjOS4uuS6huS7o+eggeWlveeciywg5aSa5YaZ5LqG6Ziy6YeN5YWl6YC76L6RXG4gICAgICAgICAgICBiYWxsLnJlbW92ZVNlbGYoKTtcbiAgICAgICAgICAgIGJhbGwucG9zKDQwICogKG51bWJlciAtIDEpICsgMzAsIDI1KTtcbiAgICAgICAgICAgIGlzR29hbFJvdGF0aW9uUmVzZXQgJiYgKGJhbGwucm90YXRpb24gPSAwKTtcbiAgICAgICAgICAgICh0aGlzLm93bmVyIGFzIEdhbWUpLmNvbnRhaW5lcl9nb2FsLmFkZENoaWxkKGJhbGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZsYWdzLmdvYWxUaGlzVHVybi5wdXNoKG51bWJlcik7XG4gICAgfVxuXG4gICAganVkZ2VTaG90KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBnb2FsVGhpc1R1cm4gPSB0aGlzLl9mbGFncy5nb2FsVGhpc1R1cm47XG5cbiAgICAgICAgaWYgKGdvYWxUaGlzVHVybi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICgtMSA8IGdvYWxUaGlzVHVybi5pbmRleE9mKDApKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIC8vIOWPr+iDvemcgOimgee9muadhu+8n1xuICAgICAgICAgICAgICAgIC8vIOaYr+S4jeaYr+i/m+eQg+WFqOS4jeeul++8n1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoLTEgPCBnb2FsVGhpc1R1cm4uaW5kZXhPZig4KSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gOCDlj7fnkIPov5vkuobmgI7kuYjnrpdcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKC0xIDwgZ29hbFRoaXNUdXJuLmZpbmRJbmRleCgobnVtYmVyOiBudW1iZXIpOiBib29sZWFuID0+IDAgIT09IG51bWJlciAmJiA4ICE9PSBudW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyTGVmdDogUGxheWVyID0gdGhpcy5fcGxheWVyTGVmdC5nZXRDb21wb25lbnQoUGxheWVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXJSaWdodDogUGxheWVyID0gdGhpcy5fcGxheWVyUmlnaHQuZ2V0Q29tcG9uZW50KFBsYXllcik7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcGxheWVyTGVmdC50YXJnZXQgJiYgdW5kZWZpbmVkID09PSBwbGF5ZXJSaWdodC50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5fcGxheWVyQ3VycmVudFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaXJzdEJhbGw6IG51bWJlciA9IGdvYWxUaGlzVHVybi5maW5kKChudW1iZXI6IG51bWJlcikgPT4gMCAhPT0gbnVtYmVyICYmIDggIT09IG51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCgwID09PSB0aGlzLl9wbGF5ZXJDdXJyZW50ICYmIDggPiBmaXJzdEJhbGwpIHx8ICggMSA9PT0gdGhpcy5fcGxheWVyQ3VycmVudCAmJiA4IDwgZmlyc3RCYWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5bem546p5a626L+b5LqG5pW055CDLCDmiJbogIXlj7Pnjqnlrrbov5vkuobljYrnkIMsIOWwseaYr+W3puaVtOWPs+WNilxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyTGVmdC50YXJnZXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyUmlnaHQudGFyZ2V0ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWQpuWImeWwseaYr+W3puWNiuWPs+aVtFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyTGVmdC50YXJnZXQgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyUmlnaHQudGFyZ2V0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZmxhZ3MuZ29hbFRoaXNUdXJuID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wbGF5ZXJDdXJyZW50ID0gMCA9PT0gdGhpcy5fcGxheWVyQ3VycmVudCA/IDEgOiAwO1xuICAgIH1cbn0iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IHVpIH0gZnJvbSAnLi8uLi91aS9sYXlhTWF4VUknO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIgZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcjogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogMDog5pW0XG4gICAgICogMTog6IqxXG4gICAgICovXG4gICAgcHJpdmF0ZSBfdGFyZ2V0OiBudW1iZXI7XG5cbiAgICBnZXQgdGFyZ2V0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgfVxuXG4gICAgc2V0IHRhcmdldCh2YWw6IG51bWJlcikge1xuICAgICAgICB0aGlzLl90YXJnZXQgPSB2YWw7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0YXJnZXQnLCB2YWwpO1xuXG4gICAgICAgIGlmICgwID09PSB2YWwpIHtcbiAgICAgICAgICAgIC8vICh0aGlzLm93bmVyLmdldENoaWxkQnlOYW1lKCdjb250YWluZXJfYmFsbCcpIGFzIExheWEuU3ByaXRlKS50ZXh0dXJlID0gJ2dhbWUvYmFsbHMvYmFsbF8wMS5wbmcnO1xuICAgICAgICAgICAgKHRoaXMub3duZXIuZ2V0Q2hpbGRCeU5hbWUoJ3RhcmdldCcpIGFzIExheWEuSW1hZ2UpLnNraW4gPSAnZ2FtZS9iYWxscy9iYWxsXzAxLnBuZyc7XG4gICAgICAgIH0gZWxzZSBpZiAoMSA9PT0gdmFsKSB7XG4gICAgICAgICAgICAodGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgndGFyZ2V0JykgYXMgTGF5YS5JbWFnZSkuc2tpbiA9ICdnYW1lL2JhbGxzL2JhbGxfMDkucG5nJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkgeyBcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZWxOYW1lID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnbmFtZScpIGFzIExheWEuTGFiZWw7XG4gICAgICAgIGNvbnN0IGVsQXZhdGFyID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZSgnYXZhdGFyJykgYXMgTGF5YS5JbWFnZTtcblxuICAgICAgICBjb25zdCBlbE1hc2sgPSBuZXcgTGF5YS5TcHJpdGUoKTtcblxuICAgICAgICAvLyDms6jmhI8sXGIgYXJjVG8g55qE56uv54K5IDEg5piv5Lik56uv54K55L2N572u5YiH57q/55qE5Lqk54K5XG4gICAgICAgIHZhciBwYXRoID0gIFtcbiAgICAgICAgICAgIFtcIm1vdmVUb1wiLCAxMCwgMF0sXG4gICAgICAgICAgICBbJ2xpbmVUbycsIDQwLCAwXSxcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDUwLCAwLCA1MCwgMTAsIDEwXSxcbiAgICAgICAgICAgIFsnbGluZVRvJywgNTAsIDQwXSxcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDUwLCA1MCwgNDAsIDUwLCAxMF0sXG4gICAgICAgICAgICBbJ2xpbmVUbycsIDEwLCA1MF0sXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCA1MCwgMCwgNDAsIDEwXSxcbiAgICAgICAgICAgIFsnbGluZVRvJywgMCwgMTBdLFxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgMCwgMTAsIDAsIDEwXSxcbiAgICAgICAgXTtcblxuICAgICAgICBlbE1hc2suZ3JhcGhpY3MuZHJhd1BhdGgoMCwgMCwgcGF0aCwgeyBmaWxsU3R5bGU6ICcjZmYwMDAwJyB9KTtcbiAgICAgICAgZWxNYXNrLnBvcygwLCAwKTtcblxuICAgICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKGVsTWFzayk7XG4gICAgICAgIGVsQXZhdGFyLm1hc2sgPSBlbE1hc2s7XG5cbiAgICAgICAgaWYgKHRoaXMuYXZhdGFyKSB7fVxuICAgIH1cbn1cbiIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkuZ2FtZSB7XHJcbiAgICBleHBvcnQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcblx0XHRwdWJsaWMgY29udGFpbmVyX3dhbGw6TGF5YS5TcHJpdGU7XG5cdFx0cHVibGljIGNvbnRhaW5lcl9ob2xlOkxheWEuU3ByaXRlO1xuXHRcdHB1YmxpYyBjb250YWluZXJfZ29hbDpMYXlhLlNwcml0ZTtcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcImdhbWUvR2FtZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgSG9sZVVJIGV4dGVuZHMgTGF5YS5WaWV3IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwiZ2FtZS9Ib2xlXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyIl19
